{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/use-cases/kafka-streams/lab-0/index.mdx"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","LastModifiedDate","date","lastModified","Date","toLocaleDateString","day","year","month","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","_frontmatter","makeShortcode","name","console","warn","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-use-cases-kafka-streams-lab-0-index-mdx-831b6e189c1907d7815d.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"last-modified-date-module--bx--text-truncate--end--123zi\",\"bxTextTruncateFront\":\"last-modified-date-module--bx--text-truncate--front--3xeKz\",\"text\":\"last-modified-date-module--text--24m-4\",\"row\":\"last-modified-date-module--row--2BquN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-eda/refarch-eda/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <AnchorLinks mdxType=\"AnchorLinks\">\n    <AnchorLink mdxType=\"AnchorLink\">Overview</AnchorLink>\n    <AnchorLink mdxType=\"AnchorLink\">Scenario Prerequisites</AnchorLink>\n    <AnchorLink mdxType=\"AnchorLink\">Setting up the Quarkus Application</AnchorLink>\n    <AnchorLink mdxType=\"AnchorLink\">Creating your first Test Class</AnchorLink>\n    <AnchorLink mdxType=\"AnchorLink\">Creating your first Tests</AnchorLink>\n    <AnchorLink mdxType=\"AnchorLink\">Next Steps</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Overview`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`In this lab scenario we’re going to use `}<a parentName=\"li\" {...{\n          \"href\": \"https://quarkus.io\"\n        }}>{`Quarkus`}</a>{` - a subatomic and supersonic framework for Java for\nthe purposes of this lab.`}</li>\n      <li parentName=\"ul\">{`We will be testing using `}<a parentName=\"li\" {...{\n          \"href\": \"https://kafka.apache.org/documentation/streams/\"\n        }}>{`Apache Kafka Streams`}</a>{` TestDriver to mimic a Topology, a Stream and Table.`}</li>\n      <li parentName=\"ul\">{`While using the TestDriver we will perform basic stateless operations and understand the testing infrastructure.`}</li>\n    </ul>\n    <h2>{`Scenario Prerequisites`}</h2>\n    <p><strong parentName=\"p\">{`Java`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`For the purposes of this lab we suggest Java 8+`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Maven`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Maven will be needed for bootstrapping our application from the command-line and running\nour application.`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`An IDE of your choice`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`Ideally an IDE that supports Quarkus (such as Visual Studio Code)`}</li>\n    </ul>\n    <h2>{`Setting up the Quarkus Application`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`We will bootstrap the Quarkus application with the following Maven command`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`mvn io.quarkus:quarkus-maven-plugin:1.10.5.Final:create \\\\\n    -DprojectGroupId=com.ibm \\\\\n    -DprojectArtifactId=quarkus-kstreams-lab-zero \\\\\n    -Dextensions=\"resteasy-jsonb,quarkus-kafka-streams\"\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Since we will be using the Kafka Streams testing functionality, we will need to edit the `}<inlineCode parentName=\"li\">{`pom.xml`}</inlineCode>{` to add the dependency to our project. Open `}<inlineCode parentName=\"li\">{`pom.xml`}</inlineCode>{` and add the following:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<dependency>\n    <groupId>org.apache.kafka</groupId>\n    <artifactId>kafka-streams-test-utils</artifactId>\n    <version>2.5.0</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.hamcrest</groupId>\n    <artifactId>hamcrest</artifactId>\n    <version>2.2</version>\n</dependency>\n`}</code></pre>\n    <p>{`The second dependency is for the hamcrest Domain Specific Language for test assertion.`}</p>\n    <h2>{`Creating your first Test Class`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Now let’s create our first Test Class.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create the directory structure you will need for your Java file. `}<em parentName=\"p\">{`(`}<strong parentName=\"em\">{`NOTE:`}</strong>{` If you are working in an IDE, this may be done for you when you create your package and classes.)`}</em></p>\n        <p parentName=\"li\">{` `}<inlineCode parentName=\"p\">{`mkdir -p src/test/java/eda/kafka/streams`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create a new file named `}<inlineCode parentName=\"p\">{`src/test/java/eda/kafka/streams/FirstKafkaStreamsTest.java`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Paste the following content into the `}<inlineCode parentName=\"p\">{`FirstKafkaStreamsTest`}</inlineCode>{` class:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`package eda.kafka.streams;\n\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\nimport java.util.Properties;\n\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.apache.kafka.streams.StreamsBuilder;\nimport org.apache.kafka.streams.StreamsConfig;\nimport org.apache.kafka.streams.TestInputTopic;\nimport org.apache.kafka.streams.TestOutputTopic;\nimport org.apache.kafka.streams.Topology;\nimport org.apache.kafka.streams.TopologyTestDriver;\nimport org.apache.kafka.streams.kstream.Consumed;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport io.quarkus.test.junit.QuarkusTest;\n\n@QuarkusTest\npublic class FirstKafkaStreamsTest {\n\n    private static TopologyTestDriver testDriver;\n    private static String inTopicName = \"my-input-topic\";\n    private static String outTopicName = \"my-output-topic\";\n\n    private static TestInputTopic<String, String> inTopic;\n    private static TestOutputTopic<String, String> outTopic;\n\n    @BeforeEach\n    public void buildTopology() {\n\n        final Properties props = new Properties();\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, \"kstream-lab0\");\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"dummmy:2345\");\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n\n        final StreamsBuilder builder = new StreamsBuilder();\n        KStream<String, String> basicColors = builder.stream(inTopicName,Consumed.with(Serdes.String(), Serdes.String()));\n        basicColors.peek((key, value) -> System.out.println(\"PRE-FILTER: key=\" + key + \", value=\" + value))\n            .filter((key, value) -> (\"BLUE\".equalsIgnoreCase(value)))\n            .peek((key, value) -> System.out.println(\"POST-FILTER: key=\" + key + \", value=\" + value))\n            .to(outTopicName);\n\n        Topology topology = builder.build();\n\n        testDriver = new TopologyTestDriver(topology, props);\n        inTopic = testDriver.createInputTopic(inTopicName, new StringSerializer(), new StringSerializer());\n        outTopic = testDriver.createOutputTopic(outTopicName, new StringDeserializer(), new StringDeserializer());\n\n    }\n\n    @AfterEach\n    public void teardown() {\n        testDriver.close();\n    }\n\n}\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`The above code does a lot in a few lines, so we’ll walk through some of that here.`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`@BeforeEach`}</inlineCode>{` annotation on the `}<inlineCode parentName=\"li\">{`buildTopology`}</inlineCode>{` method means that it will be run each time before each test is executed, while the `}<inlineCode parentName=\"li\">{`@AfterEach`}</inlineCode>{` annotation on the `}<inlineCode parentName=\"li\">{`teardown`}</inlineCode>{` method ensures that it will be run each time after each test execution. This allows us to spin up and tear down all the necessary components to test in isolation with each test case.`}</li>\n          <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`buildTopology`}</inlineCode>{` method utilizes the `}<inlineCode parentName=\"li\">{`StreamsBuilder`}</inlineCode>{` class to construct a simple topology, reading from the input Kafka topic defined by the `}<inlineCode parentName=\"li\">{`inTopicName`}</inlineCode>{` String.`}</li>\n          <li parentName=\"ul\">{`The topology, we build here, utilizes three of the stateless processors the Kafka Streams API:`}\n            <ul parentName=\"li\">\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`peek`}</inlineCode>{` allows us to look at the key and the value of the record passing through the stream and continue processing it unaffected `}<em parentName=\"li\">{`(so we leverage this before and after the next processor used to see what is making its way through the topology)`}</em></li>\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`filter`}</inlineCode>{` allows us to drop records that do not meet the criteria specified `}<em parentName=\"li\">{`(either for the key or the value)`}</em>{`. In this test class, we are filtering on any value that does not match the word `}<inlineCode parentName=\"li\">{`\"BLUE\"`}</inlineCode>{` `}<em parentName=\"li\">{`(using a case-insensitive search)`}</em></li>\n              <li parentName=\"ul\"><inlineCode parentName=\"li\">{`to`}</inlineCode>{` is the final processor used and to write the contents of the topology at that point to an output Kafka topic`}</li>\n            </ul>\n          </li>\n          <li parentName=\"ul\">{`The Kafka Streams Test infrastructure provides us the capability to leverage driver classes that function as their own input and output topics, removing the need from connecting directly to a live Kafka instance. The `}<inlineCode parentName=\"li\">{`inTopic`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`outTopic`}</inlineCode>{` instantiation at the bottom of the `}<inlineCode parentName=\"li\">{`buildTopology`}</inlineCode>{` method hooks into this test infrastructure, so that our test methods can use them to write to and read from the topology.`}</li>\n          <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`teardown`}</inlineCode>{` method cleans up the topology and all the data that has been sent through it for any given test run, allowing us to reset and rerun test cases as needed.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <ul>\n      <li parentName=\"ul\">{`Build the application by running the following:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`./mvnw clean verify\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`You should see output similar to the following:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`...\n[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  29.470 s\n[INFO] Finished at: 2020-09-17T09:34:26-05:00\n[INFO] ------------------------------------------------------------------------\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` Depending upon versions of the packages brought in, you may see an initial test failure due to needing to update the `}<inlineCode parentName=\"p\">{`src/main/resources/application.properties`}</inlineCode>{` file with the following properties: `}<em parentName=\"p\">{`(The values are insignifcant for the execution of our tests, but he existence of the property is required by the underlying Quarkus & Kafka Streams integration)`}</em></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-properties\"\n      }}>{`quarkus.kafka-streams.application-id=my-kafka-streams\nquarkus.kafka-streams.topics=topic1\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`The build compiled and the test topology was successfully created. But no tests were run, because no tests were written!`}</li>\n    </ul>\n    <h2>{`Creating your first Tests`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Open `}<inlineCode parentName=\"li\">{`src/test/java/eda/kafka/streams/FirstKafkaStreamsTest.java`}</inlineCode>{` and add the following tests to the bottom of the `}<inlineCode parentName=\"li\">{`FirstKafkaStreamsTest`}</inlineCode>{` class:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`    @Test\n    public void isEmpty() {\n        assertThat(outTopic.isEmpty(), is(true));\n    }\n\n    @Test\n    public void isNotEmpty() {\n        assertThat(outTopic.isEmpty(), is(true));\n        inTopic.pipeInput(\"C01\", \"blue\");\n        assertThat(outTopic.getQueueSize(), equalTo(1L) );\n        assertThat(outTopic.readValue(), equalTo(\"blue\"));\n        assertThat(outTopic.getQueueSize(), equalTo(0L) );\n    }\n\n    @Test\n    public void selectBlues() {\n        assertThat(outTopic.isEmpty(), is(true));\n\n        inTopic.pipeInput(\"C01\", \"blue\");\n        inTopic.pipeInput(\"C02\", \"red\");\n        inTopic.pipeInput(\"C03\", \"green\");\n        inTopic.pipeInput(\"C04\", \"Blue\");\n\n        assertThat(outTopic.getQueueSize(), equalTo(2L) );\n\n        assertThat(outTopic.isEmpty(), is(false));\n\n        assertThat(outTopic.readValue(), equalTo(\"blue\"));\n        assertThat(outTopic.readValue(), equalTo(\"Blue\"));\n\n        assertThat(outTopic.getQueueSize(), equalTo(0L) );\n\n    }\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`These are three simple tests:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`isEmpty`}</inlineCode>{` test method checks to make sure the output topic is empty when nothing is sent through the topology`}</li>\n          <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`isNotEmpty`}</inlineCode>{` test method checks to make sure the output topic is not empty when an item matching our filters is sent through the topology`}</li>\n          <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`selectBlues`}</inlineCode>{` test method checks to make sure that our topology is filtering correctly when we send multiple items through the topology and the output topic empties correctly when the testing infrastructure reads from it.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`You should see the tests pass with the following output:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running eda.kafka.streams.FirstKafkaStreamsTest\n2020-09-17 09:44:33,247 INFO  [io.sma.rea.mes.provider] (main) SRMSG00208: Deployment done... start processing\n2020-09-17 09:44:33,250 INFO  [io.sma.rea.mes.provider] (main) SRMSG00226: Found incoming connectors: [smallrye-kafka]\n2020-09-17 09:44:33,251 INFO  [io.sma.rea.mes.provider] (main) SRMSG00227: Found outgoing connectors: [smallrye-kafka]\n2020-09-17 09:44:33,252 INFO  [io.sma.rea.mes.provider] (main) SRMSG00229: Channel manager initializing...\n2020-09-17 09:44:33,254 INFO  [io.sma.rea.mes.provider] (main) SRMSG00209: Initializing mediators\n2020-09-17 09:44:33,255 INFO  [io.sma.rea.mes.provider] (main) SRMSG00215: Connecting mediators\n2020-09-17 09:44:33,382 INFO  [io.quarkus] (main) Quarkus 1.8.0.Final on JVM started in 2.029s. Listening on: http://0.0.0.0:8081\n2020-09-17 09:44:33,382 INFO  [io.quarkus] (main) Profile test activated.\n2020-09-17 09:44:33,382 INFO  [io.quarkus] (main) Installed features: [cdi, kafka-streams, mutiny, resteasy-jsonb, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\nPRE-FILTER: key=C01, value=blue\nPOST-FILTER: key=C01, value=blue\nPRE-FILTER: key=C02, value=red\nPRE-FILTER: key=C03, value=green\nPRE-FILTER: key=C04, value=Blue\nPOST-FILTER: key=C04, value=Blue\nPRE-FILTER: key=C01, value=blue\nPOST-FILTER: key=C01, value=blue\n[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.722 s - in eda.kafka.streams.FirstKafkaStreamsTest\n2020-09-17 09:44:34,026 INFO  [io.sma.rea.mes.provider] (main) SRMSG00207: Cancel subscriptions\n2020-09-17 09:44:34,038 INFO  [io.quarkus] (main) Quarkus stopped in 0.024s\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n[INFO]\n`}</code></pre>\n    <h2>{`Next Steps`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Now that you have finished the foundational Kafka Streams testing lab, you can proceed to `}<a parentName=\"li\" {...{\n          \"href\": \"/refarch-eda/use-cases/kafka-streams/lab-1/\"\n        }}>{`Lab 1`}</a>{` for a deeper dive into more robust real-world Kafka Streams testing use cases!`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}