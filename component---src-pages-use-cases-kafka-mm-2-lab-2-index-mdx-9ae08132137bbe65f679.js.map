{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/use-cases/kafka-mm2/lab-2/index.mdx"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","LastModifiedDate","date","lastModified","Date","toLocaleDateString","day","year","month","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","_frontmatter","makeShortcode","name","console","warn","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-use-cases-kafka-mm-2-lab-2-index-mdx-9ae08132137bbe65f679.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"last-modified-date-module--bx--text-truncate--end--123zi\",\"bxTextTruncateFront\":\"last-modified-date-module--bx--text-truncate--front--3xeKz\",\"text\":\"last-modified-date-module--text--24m-4\",\"row\":\"last-modified-date-module--row--2BquN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-eda/refarch-eda/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Overview</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Pre-requisites</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Start Mirror Maker 2</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Start Consumer from target cluster</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Start Producer to source cluster</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Overview`}</h2>\n    <p>{`For this scenario the source cluster is an Event Streams on premise on OpenShift, and the target cluster is an Event Stream on Cloud. Mirror Maker 2 runs on OpenShift.`}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"941px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"40.625%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABr0lEQVQoz02SP28TQRDF/QEpqfkgNBRUNHwCqEyAAkEFBRUUURRjCzA0JBGJkR3bJ9/Zt7e3t39u98fsgTArTbEzozdv3ryR1ommiXgP1kJRwLZIlFWi6xJtm+vQSLFxhq73RGDft1ReYXonOUdpOw6+Y7Q/BEznKbYF0+mM2/VGgD19H9ntKsqywjmoVEuj7fCfnH9iuVxinZW+nvyMCyhvGSkVhsTF5SXjk+fMv84JwuL4AlUduNpUw2+1WjEeP2MymaC1pq5r2cQSY4+NnlHbRlKMwxp5VhJmh8qgdorzU8NsGnF94HqrpBj/jXFCO4fSjRAwZIQ2CMOsn3RKMmFDoihLPr/9zrtHH3jz+AuLRaRWlkWhBqCUEn2USMcdPr5HtJYbJPeHYQb00pF75j9vOTlb82pWcXpTSyayl5UX1REwR34qGM52F7z+9oN9Z/ApiIarPUEphBzWR9Ya7r3U3H2huPPQcnOViAKgrBsGZ7D4d/VrveH+7CkP5k/41Ra4KIBG92glIfYxRmyipdmLmiLyoZBLl9k+ckXxlektOnSDVbJe9r/jZevko/wGeB9gRx3Jh84AAAAASUVORK5CYII=')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"1\",\n          \"title\": \"1\",\n          \"src\": \"/refarch-eda/static/c741caf22e59133ebd5ca1c03f52256c/89104/mm2-lab2.png\",\n          \"srcSet\": [\"/refarch-eda/static/c741caf22e59133ebd5ca1c03f52256c/7fc1e/mm2-lab2.png 288w\", \"/refarch-eda/static/c741caf22e59133ebd5ca1c03f52256c/a5df1/mm2-lab2.png 576w\", \"/refarch-eda/static/c741caf22e59133ebd5ca1c03f52256c/89104/mm2-lab2.png 941w\"],\n          \"sizes\": \"(max-width: 941px) 100vw, 941px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <h2>{`Pre-requisites`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`We will use the Cloud shell tool, so connect and create the environment for this shell using the same instructions as in `}<a parentName=\"p\" {...{\n            \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/technology/event-streams/schema-registry-cp4i-v10#ibm-cloud-shell\"\n          }}>{`the schema registry lab`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Login to the OpenShift cluster using the console and get the API token`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc login --token=L0.... --server=https://api.eda-solutions.gse-ocp.net:6443\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Clone the github to get access to the Mirror Maker 2 manifests we are using:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`git clone https://github.com/ibm-cloud-architecture/refarch-eda-data-consistency\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`As Event Streams on the Cloud does not authorize to create topic with the Kafka Admin API, we need to create the following topics with scripts or GUI. The naming convention respects the name of the source cluster as defined in the MirrorMaker2 manifest we will detail later.`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`es-1.checkpoints.internal  use one partition`}</li>\n          <li parentName=\"ul\">{`es-1.heartbeats  use one partition`}</li>\n          <li parentName=\"ul\">{`es-1.products   matches the partition allocated to the source topic`}</li>\n          <li parentName=\"ul\">{`mirrormaker2-cluster-configs one partition`}</li>\n          <li parentName=\"ul\">{`mirrormaker2-cluster-offsets 25 partitions`}</li>\n          <li parentName=\"ul\">{`mirrormaker2-cluster-status 5 partitions.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`Use the default replication factor of 3.`}</p>\n    <h2>{`Start Mirror Maker 2`}</h2>\n    <p>{`In this lab, Mirror Maker 2 will run on the same cluster as Event Streams within the same namespace (e.g. integration). `}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create a secret for the API KEY of the Event Streams target cluster:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{` oc create secret generic es-oc-api-secret --from-literal=password=<replace-with-event-streams-on-cloud-apikey>\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Verify the Event Streams on OpenShift service end point URL. This URL will be used to configure Mirror Maker 2. `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`# Go to the project where Event Streams is installed\noc project integration\n# Use the bootstrap internal URL\noc describe svc es-1-kafka-bootstrap  -o=jsonpath='{.status.ingress[0].host}{\"\\\\n\"}'\n# result:\n   es-1-kafka-bootstrap.integration.svc:9093\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Verify the CA certificate secrets:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{` oc describe secret es-1-cluster-ca -n integration\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Get a user with write access to topic, transactions. You can use the User Interface to do so with the Create TLS credential on the intern URL panel.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"719px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"62.15277777777778%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVQoz41Tu27CQBD059FAyZfwByAKWh6igoKCT6Ck4BMAKQWByPgBNrbxg5cNnnhWcUIiQFlptHfnu9nd2bVyOByg6zo2mw12ux1M08R2uxUfxzFoaZo+RP7t3hQeXC4Xecx1kiSIogi+7+N2u+GV/SUTwslkglKphHK5jEKhgGKxiPl8juPxCMdxwAoI13Vh27b40+n0PMPVaoXBYIDhcIher4d+vw/DMIQwDEPJnGDW3JOcFT0l5OUgCL4JGN2yLNGRGXFNfQnqyj2zfEp4Pp+x3+9xvV5FP/pcdK5z8FuOlxqyFFVVsV6vpVR2nDJomv5F8BMoJ8wb+DBDljudTjGbzbBYLIR8tXzH8n2Rka6ha5r4PJiW7T3PezpOCiNSO4Ji05JsWuIrcElSQZz8njuCI3UvCcEzhZfYEHYPaXYpe6duT3hbbvBh+PCPgBMBtxT/MsmQTWEZhOt6sB0fpuWKJxw3AJtH7QzDRLfbRavVQrPZRKfTQbvdRrVaxXg8hsJUWS7/DILkYRjA33uIMh8GfoZAxomEbF6j0UCtVhPU63VBpVLBaDTCJwENhljMqQ+DAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"4\",\n            \"title\": \"4\",\n            \"src\": \"/refarch-eda/static/ff1774cceddb2e9f5b1b44c746ae7f71/3f9cb/mm2-cred-1.png\",\n            \"srcSet\": [\"/refarch-eda/static/ff1774cceddb2e9f5b1b44c746ae7f71/7fc1e/mm2-cred-1.png 288w\", \"/refarch-eda/static/ff1774cceddb2e9f5b1b44c746ae7f71/a5df1/mm2-cred-1.png 576w\", \"/refarch-eda/static/ff1774cceddb2e9f5b1b44c746ae7f71/3f9cb/mm2-cred-1.png 719w\"],\n            \"sizes\": \"(max-width: 719px) 100vw, 719px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"561px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"41.31944444444445%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRUlEQVQoz52Q2W7CQAxF8/v8QwDlTwAhIZAQIKBkUQjZl0kmZKFNysPtxCwV7UvVhyPbVx77eqRer4fFYoHRaITpdIrxeIzJZILZbIb5fE5xtVpB0zRsNhtst1uK6/Wa9I7lckmaqqqQFEVBURQ4nU7wfR9BEMC2bSRJAs458jynmGUZGGNI05RomgbX6/WFtm0hybJMD7ohjuMgDEPKH3ieB9d1aZFpms++zkRd1xQflGUJqd/vCzcM+/0bDMMQtjVxnk4narqOw+Fw19U7GnTdwG63o57j0RJLHFpUltVt4DnnsCwTniscBj6SOEIchQTlcYgoCqhmSUxaV2cpw+VS41JXT8TAAfKqhRsw+JH4J16hqFucq+aFomp/12UDfn4HL76R5IECOwU0KwUrQSTF36H++7sOaTAc4uMTSIWzn9v+wxfWrUs52aMYBAAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"5\",\n            \"title\": \"5\",\n            \"src\": \"/refarch-eda/static/99039fda507dff0e3a525be1997c9c8d/83583/mm2-cred-2.png\",\n            \"srcSet\": [\"/refarch-eda/static/99039fda507dff0e3a525be1997c9c8d/7fc1e/mm2-cred-2.png 288w\", \"/refarch-eda/static/99039fda507dff0e3a525be1997c9c8d/83583/mm2-cred-2.png 561w\"],\n            \"sizes\": \"(max-width: 561px) 100vw, 561px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n        <p parentName=\"li\">{`This user needs to be able to create topic on target cluster.\no\n`}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"726px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"69.44444444444444%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTklEQVQ4y3WTy2paURSGz2N00FIKpRlmHkmxTTR14CA+QyltMiqFznwNSVTyCDEggaBRMhO0BkoqJt7vnnr3HO+3v3stu8MxkAMfe+3bv9f69z6K0+nE5eUlzs/P4fP5GL/fj4uLCwSDQUQiEYTDYSYUCuH6+hqBQAA3NzeIxWJMNBpFPB7H1dUVlLOzM3S7XZTLZdTrdW7b7TZ6vR76/T6azSYajQZarRYWiwXkt1wuMZvNmOl0yv37+3sop6enUFUVqVQK2WwW6XSakf1MJsMLaSyfz/OB8nBN0xg6eDQarQXdbjdnkMvlUCwWeXGlUmEoLpVKHFerVZ6ntVQRoes6BoMBt5PJZC3o9Xq5QyUNh0PM5/PHUghjX8ZUIjEej1mQsiSNZDK59nC1WvEE+UCbJMbNT5FzRkHO0OPxcMq1Wo19IT9lS1mTPwRtonXP8ShIHtJGMpw8kl6Sd+QhxTRPpj8Vkf5JwYeHh7WHnU7nUUgKSwqFAmdMa8hjgsSlmLHkRCIBxeVycbkkSGJSmFp6NnI8I+JqdW1LpVIVb7UjxIbQhKim6eKCDLdMl2H0iE41lkPxcNCHromnovWg97uir2E8Ggh0jES8mE/x5+43lJOTE95El0B/xXOoLQ1qe4DGf/4SLZ1Rmxra/Ql+3d5BcTgcODw8hM1mg8VigdVqZSjeJ/Y+4sPeAbaP8nj7HXh5BLw63uS14MU34P3PAhS73Y7d3V2YTCbs7OxsYDab8elAiB/YsP05hq3jNt59rQnqG2yJsTdfWtj/cYt/qB/IUKIRptkAAAAASUVORK5CYII=')\",\n                \"backgroundSize\": \"cover\",\n                \"display\": \"block\"\n              }\n            }}></span>{`\n  `}<img parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"alt\": \"6\",\n              \"title\": \"6\",\n              \"src\": \"/refarch-eda/static/b7379c36bf50c0d2392b94d8212c0d95/81f3f/mm2-cred-3.png\",\n              \"srcSet\": [\"/refarch-eda/static/b7379c36bf50c0d2392b94d8212c0d95/7fc1e/mm2-cred-3.png 288w\", \"/refarch-eda/static/b7379c36bf50c0d2392b94d8212c0d95/a5df1/mm2-cred-3.png 576w\", \"/refarch-eda/static/b7379c36bf50c0d2392b94d8212c0d95/81f3f/mm2-cred-3.png 726w\"],\n              \"sizes\": \"(max-width: 726px) 100vw, 726px\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              },\n              \"loading\": \"lazy\"\n            }}></img>{`\n    `}</span></p>\n        <p parentName=\"li\">{`You can specify a specific set of topics, with Java regexp.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"718px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"62.15277777777778%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVQoz4WSzWoaURTH5xECSZ+hkFVoUAzWbrorLkuTidv6AEmhNFsfQVFfpHt1oSC4U0EoWRR1/P6aO874yb/zP80VtZYM/Djnnnvu/9xz5hqJRAKlUgm5XA6FQgH5fF7WxWIRlUoFjUYD1WpVqNVqqNfrYnVsf69cLsPIZrMYDodoNptot9totVoYDAYS63Q6sCwL/X5ffNput4vJZIL1eo3VarWDa54zUqkURqORJNOOx2OBPhP2Yzo+nU5h2/YBjuNIUSOZTEpV3pCVXdeVTTKfz3f+cUwpdQDjIpjJZHbqFOYttCgTjwVPoQV5XgS32+2uNbYzm81kLoxvNpv/wrmdFNQLzrHX64nocUuvcSDIFinGP0tYdblcyi21PQX3mGu/CFqcYTqdBj/eSqPnuFgs9vDgef+ilHP4UyjISpzbfgt8CozpZ6GU7R9S8HzcF+u5CgvX8a2D1dJDx2rDiMViiMfjoD2Fad4jdm/i0/cKQj9cXD+Ocf1t4tu/vOPa5+phio9PTRjRaBThcBiBQEAIBoMC/VAohEjkA96Hb/D29icuzN84+9zA+e0vvDGfcXHn41v6Z1+ecfm1jj/3skHCNNxnUAAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"7\",\n            \"title\": \"7\",\n            \"src\": \"/refarch-eda/static/5da6aa2eba14b208b36e51590d2065cf/70c24/mm2-cred-4.png\",\n            \"srcSet\": [\"/refarch-eda/static/5da6aa2eba14b208b36e51590d2065cf/7fc1e/mm2-cred-4.png 288w\", \"/refarch-eda/static/5da6aa2eba14b208b36e51590d2065cf/a5df1/mm2-cred-4.png 576w\", \"/refarch-eda/static/5da6aa2eba14b208b36e51590d2065cf/70c24/mm2-cred-4.png 718w\"],\n            \"sizes\": \"(max-width: 718px) 100vw, 718px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n        <p parentName=\"li\">{`and all the transactions.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Define source and target cluster properties in a Mirror Maker 2 `}<inlineCode parentName=\"p\">{`es-ocp-to-es-oc.yml`}</inlineCode>{` descriptor file. There is a file for the replication between Event Streams OCP to Event Streams on cloud `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/refarch-eda-data-consistency/blob/master/mirror-maker-2/es-ocp/es-ocp-to-es-oc.yml\"\n          }}>{`es-ocp-to-es-oc.yml`}</a>{`. We strongly recommend to study the schema definition of this `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/strimzi/strimzi-kafka-operator/blob/2d35bfcd99295bef8ee98de9d8b3c86cb33e5842/install/cluster-operator/048-Crd-kafkamirrormaker2.yaml#L648-L663\"\n          }}>{`custom resource from this page`}</a>{`. `}</p>\n      </li>\n    </ul>\n    <p>{`Here are some important parameters: The namespace needs to match the newly created project:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: eventstreams.ibm.com/v1alpha1\nkind: KafkaMirrorMaker2\nmetadata:\n  name: mm2\n  namespace: integration\nspec:\n  template:\n    pod:\n      metadata:\n        annotations:\n          eventstreams.production.type: CloudPakForIntegrationNonProduction\n  version: 2.5.0\n  replicas: 1\n  connectCluster: \"event-streams-wdc\"\n`}</code></pre>\n    <p>{`The version matches the Kafka version we use. The number of replicas can be set to 1 to start. The eventstreams.production.type is needed for Event Streams.`}</p>\n    <p>{`Then the yaml defines the connection configuration for each clusters: Event Streams on cloud, so you need to define the bootstrap servers (This could come from a config map too) and the API key coming from the previously defined secret. The user is always ‘token’`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`clusters:\n  - alias: \"event-streams-wdc\"\n    bootstrapServers: broker-0-qnprtqnp7hnkssdz.kafka.svc01.us-east.eventstreams.cloud.ibm.com:9093,broker-1-qnprtqnp7hnkssdz.kafka.svc01.us-east.eventstreams.cloud.ibm.com:9093,broker-2-qnprtqnp7hnkssdz.kafka.svc01.us-east.eventstreams.cloud.ibm.com:9093,broker-3-qnprtqnp7hnkssdz.kafka.svc01.us-east.eventstreams.cloud.ibm.com:9093,broker-4-qnprtqnp7hnkssdz.kafka.svc01.us-east.eventstreams.cloud.ibm.com:9093,broker-5-qnprtqnp7hnkssdz.kafka.svc01.us-east.eventstreams.cloud.ibm.com:9093\n    config:\n      config.storage.replication.factor: 3\n      offset.storage.replication.factor: 3\n      status.storage.replication.factor: 3\n    tls: {}\n    authentication:\n      passwordSecret:\n          secretName: es-oc-api-secret  \n          password: password \n      username: token\n      type: plain\n`}</code></pre>\n    <p>{`For Event Streams on premise running within OpenShift, the connection uses TLS, certificates and Sram credentials. As we run in a separate namespace the URL is the ‘external’ one.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`- alias: \"es-1-cluster\"\n    bootstrapServers: es-1-kafka-bootstrap.integration.svc:9093\n    config:\n      config.storage.replication.factor: 3\n      offset.storage.replication.factor: 3\n      status.storage.replication.factor: 3\n      ssl.endpoint.identification.algorithm: https\n    tls: \n      trustedCertificates:\n        - secretName: es-1-cluster-ca-cert\n          certificate: ca.crt\n    authentication:\n      type: tls\n      certificateAndKey:\n        certificate: user.crt\n        key: user.key\n        secretName: mm2\n          \n`}</code></pre>\n    <p>{`Finally the `}<inlineCode parentName=\"p\">{`connectCluster`}</inlineCode>{` attribute defines the cluster alias used by MirrorMaker2 to define its hidden topics, it must match the target cluster of the replication in the list at `}<inlineCode parentName=\"p\">{`spec.clusters`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f mirror-maker-2/es-ocp/es-ocp-to-es-oc.yml\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Verify the chareacteristics of the Mirror Maker 2 instance using the CLI`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc describe kafkamirrormaker2 mm2\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`As Mirror Maker 2 is set to  be connected to the `}<inlineCode parentName=\"p\">{`event-streams-wdc`}</inlineCode>{` which is the event streams on cloud. `}</p>\n      </li>\n    </ul>\n    <h2>{`Start Producer to source cluster`}</h2>\n    <p>{`As seen in lab 1, we will use the same python script to create products records. This time the script is producing products data to Event Streams on OpenShift. So we need the URL, pem, and user to access this cluster.\nThe credentials can be accessed and defined using the GUI. `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/technology/event-streams/schema-registry-cp4i-v10#gui\"\n      }}>{`This section in the schema registry`}</a>{` lab goes into the details on how to get the external URL and Scram password. `}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`If not done before download the pem file using the following CLI commands:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`cloudctl login -a https://cp-console.apps.eda-solutions.gse-ocp.net --skip-ssl-validation\ncloudctl es init\ncloudctl es certificates --format pem\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Get userid, password and information of one of the kafka user defined. The namespace used below is the one where event streams is installed.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get kafkausers--namespace integration\noc get kafkauser my-user1 --namespace integration -o jsonpath='{\"username: \"}{.status.username}{\"\\\\nsecret-name: \"}{.status.secret}{\"\\\\n\"}'\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Set the following environment variables:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export KAFKA_BROKERS=es-1-kafka-bootstrap-integration.apps.eda-solutions.gse-ocp.net:443\nexport KAFKA_USER=my-user1\nexport KAFKA_PWD=$(oc get secret $KAFKA_USER --namespace integration -o jsonpath='{.data.password}' | base64 --decode)\nexport KAFKA_CERT=/home/es-cert.pem\n`}</code></pre>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`cd mirror-maker-2\n# Execute the script using docker\ndocker run -ti -v $(pwd):/home --rm -e  KAFKA_BROKERS=$KAFKA_SOURCE_BROKERS -e KAFKA_USER=$KAFKA_USER -e KAFKA_PWD=$KAFKA_PWD -e KAFKA_CERT=$KAFKA_CERT ibmcase/kcontainer-python:itgtests python /home/SendProductToKafka.py --file /home/data/products.json\n`}</code></pre>\n      </li>\n    </ul>\n    <h2>{`Start Consumer from target cluster`}</h2>\n    <p>{`Specifying the target cluster as Event Streams on cloud, we can also use Kafdrop to see the replicated topic.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`./scripts/startKafdrop.sh es-cloud.properties\n`}</code></pre>\n    <p>{`Go to the es-1.products topic to see the replicated messages:`}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"49.30555555555556%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/klEQVQoz42Sy26bQBSGeQtTG2wYQBgwvhHHF8AO2AaT2LmorVeWvMuikpddtJGiRLLUqI9QyV3Gfcu/ZyZKI3VRdfHpzGFm/vPP4UjVNIXhRjAUDUxVwGo16Iy9oev/hs4wHk0TmutCKl3dQk++Qmu1UInGqLXaYJr2Bh1m/NJ/wEUlw2nB90PYvR6sKAbrnYLZdeiOC0YYdMigw4Zh/IH9nb/CDEinvRMsFhmSyRkusgw+CZaabShhjFI3gFypoFatQiVkWYaiKNDIuaqqIi/Tvq4Q72QRJdf1MJvneP/hI5LpDJvNBvM0gWNZmE4mWC4v0G630aMXrFYrxHEMx3EwGAxEniYJzJhYXMIapyRImzfXN9jv91iv13h+PuLh8RGjMMS3pyccj79QFIXYOxwO2O126HQ62G63lP/E/d0dzE+fYX3/AXv3BZIfnGC2KNDvDzCdZ4jiMbrdjnAwGI6QpDMEQRcWOa7RBNi2Dc/zYFJveW7Sd8+kXpZlsEoZkkd9mhfnmFAPZ1mOnMTDcESEOKPnLFdXQtylkWg2m+L5PDYaDQHPPYqMCuj8pzTIYX6+FII5CWd5gdHoRTBJp1heXpP7vnDGBV7FeB95Ed/3Ua/XX8aGRkxyyGFKzqIoEgKc4XAoiMdjKrAQa36REwSB6CFfc2G+5kX4+HDB3xMKQpqFoxFBAAAAAElFTkSuQmCC')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"9\",\n          \"title\": \"9\",\n          \"src\": \"/refarch-eda/static/07493609b1181608281aead63a8a1cf9/3cbba/kafdrop-eso-esic.png\",\n          \"srcSet\": [\"/refarch-eda/static/07493609b1181608281aead63a8a1cf9/7fc1e/kafdrop-eso-esic.png 288w\", \"/refarch-eda/static/07493609b1181608281aead63a8a1cf9/a5df1/kafdrop-eso-esic.png 576w\", \"/refarch-eda/static/07493609b1181608281aead63a8a1cf9/3cbba/kafdrop-eso-esic.png 1152w\", \"/refarch-eda/static/07493609b1181608281aead63a8a1cf9/0b124/kafdrop-eso-esic.png 1728w\", \"/refarch-eda/static/07493609b1181608281aead63a8a1cf9/f2b4c/kafdrop-eso-esic.png 2268w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <h2>{`Understanding MirrorMaker 2 trace`}</h2>\n    <p>{`A lot of configuration validation at the beginning of the trace to get the connection to both clusters. Any configuration issue to define the connection is generally well reported. URL, TLS certificate, secrets are the common cause of connection issues.`}</p>\n    <p>{`If some message arrive with NO_LEADER for one of the topic, is that MM2 is not able to create the topic on the target cluster and so it is needed to create the topic with command or User Interface.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`WorkerSourceTask{id=es-1->event-streams-wdc.MirrorHeartbeatConnector-0} is the connector - task for the internal HeartBeat.`}</li>\n      <li parentName=\"ul\">{`WorkerSourceTask{id=es-1->event-streams-wdc.MirrorSourceConnector-0} for the topic to replicate`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}