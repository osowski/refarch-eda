{"version":3,"sources":["webpack:///./src/pages/aaa_ORPHANS/deployments/zookeeper/README.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"weAMO,IAAMA,EAAe,GAOtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,8YAEA,sFAAqE,0BAAYC,WAAW,KAAvB,6BAArE,4FAAuO,0BAAYA,WAAW,KAAvB,yBAAvO,0EACA,6LACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,sPAQL,mFACA,4IACA,uBAAK,sBAAMA,WAAW,OAAU,IAA3B,kCAEL,wEACA,+HACA,6GAA4F,sBAAQA,WAAW,KAAnB,SAA5F,oGAKJJ,EAAWK,gBAAiB","file":"component---src-pages-aaa-orphans-deployments-zookeeper-readme-mdx-11aed1e62332a5162d43.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-eda/refarch-eda/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`Development deployment uses one zookeeper server. For production the replicas is set to 5 to tolerate one planned and one unplanned failure. The service defines 3 ports: one for the inter-server communication, one for client access and one for leader-election.\nPersistence volumes are needed to provide durable storage. Better to use network storage like NFS or glusterfs.`}</p>\n    <p>{`The zookeeper manifests are defined in this project under the `}<inlineCode parentName=\"p\">{`deployments/zookeeper/dev`}</inlineCode>{` folder. We are using our own docker images and the Dockerfile to build this image is in `}<inlineCode parentName=\"p\">{`deployments/zookeeper`}</inlineCode>{`. The image is already pushed to the Docker Hub under ibmcase account.`}</p>\n    <p>{`We are providing a script to install zookeeper as a kubernetes environment. First be sure to be connected to your kubernetes cluster then run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ pwd\n> refarch-eda/deployments/zookeeper\n$ ./deployZoopeeker.sh\n\n$ kubectl get pods -n greencompute\nNAME                            READY     STATUS    RESTARTS   AGE\ngc-zookeeper-57dc5679bb-bh29q   1/1       Running   0          1m\n`}</code></pre>\n    <p>{`It creates volume, services and deployment or statefulset.`}</p>\n    <p>{`If you want to deploy it in more resilient deployment we provide other manifests under the prod folder. To install:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ ./deployZoopeeker.sh prod\n`}</code></pre>\n    <p>{`Once installed you do not need to reinstall it.`}</p>\n    <p>{`We are also delivering a script to remove zookeeper when you are done using it. (./removeZookeeper.sh)`}</p>\n    <p>{` When running in production it is better to use separate zookeeper ensemble for each `}<strong parentName=\"p\">{`Kafka`}</strong>{` cluster. Each server should have at least 2 GiB of heap with at least 4 GiB of reserved memory`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}